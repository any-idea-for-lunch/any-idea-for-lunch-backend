# 리스크 관리

-   작성자: 2023108129 컴퓨터공학과 홍용우
-   담당: 백엔드

## 1. 프로젝트 초기 방향 및 변경 경위

팀 구성 직후 특정 지역 이주 상황을 가정해 상권 정보, 부동산, 청년 정책 등 지역 기반 서비스를 제공하는 이주 지원 서비스를 기획했으나, 제한된 기간 내 구현 범위가 크다고 판단하여 현재의 메뉴 추천 서비스로 방향을 조정했습니다.

## 2. 백엔드 필요성 검토

API Key를 클라이언트 헤더에 직접 포함하는 방안도 검토했지만, 위치 값과 API Key를 POST 형태로 안전하게 전달하고 정제하기 위해 서버 측 백엔드가 필요하다고 결론 내려 백엔드 구축을 진행했습니다.

## 3. 역할 분담 상황 및 작업 지연 리스크

-   기획ﾷ디자인: 고민재 님
-   프론트엔드: 김지환 님

백엔드는 프론트 UI와 구조가 일부라도 확정되어야 효율적으로 개발 가능해, 기획ﾷ디자인 산출물이 확보될 때까지 대기하는 기간이 있었고 그로 인해 착수 지연 리스크가 발생했습니다.

## 4. 기술적 리스크: 스프링부트 + 카카오맵 연동

카카오맵 API를 활용한 HTML 기반 위치값 로딩을 스프링부트에서 호출하는 작업은 처음이어서, 기능 확인을 위한 테스트를 선행했습니다. 프론트 개발이 일부 진행된 시점에 프론트 코드와 백엔드를 연동해 데이터 호출 가능 여부를 검증 요청받아 테스트를 진행했습니다.

## 5. 주요 리스크 발생 사례 및 해결

연동 테스트 과정에서 지도 API가 로딩되지 않는 문제가 발생했습니다. 원인 분석 결과, 프론트엔드 JavaScript 코드에서 백엔드로부터 반환받는 API Key 및 위치 데이터 처리 로직이 삭제된 상태여서 정상 동작이 이루어지지 않았습니다.

### 해결 조치

-   삭제된 데이터 처리 코드를 복구
-   지도 및 가게 리스트 정상 로딩 확인

기능 정상화 이후 프로젝트를 안정적으로 진행했습니다.

## 6. 배포 과정 리스크: 시놀로지 NAS 도커 환경 및 HTTPS 제약

백엔드 관점에서 배포 편의성을 높이기 위해 프로젝트 초기부터 Docker 기반 환경을 구성했습니다.  
개인 시놀로지 NAS에서 컨테이너 형태로 구동하는 방식을 목표로 하여 백엔드 서버를 Docker 이미지로 빌드하고 배포했습니다.

배포 테스트 과정에서 아래 사항을 확인했습니다.

-   NAS의 Docker 컨테이너 구동 자체는 정상 동작
-   **HTML5 위치 정보 기능은 HTTPS 환경에서만 동작**
-   NAS 자체는 HTTPS 접속을 지원하지만  
    컨테이너 내부에서 서비스하는 애플리케이션에도 **별도의 인증서 적용이 필요**
-   인증서가 없는 HTTP 환경으로 배포할 경우  
    브라우저가 위치 권한 요청을 전면 차단해 서비스 기능 사용 불가
-   로컬 개발 환경에서는 문제 없음

### 문제 확인 사례

배포 예정 URL:  
`http://hongnass.synology.me:8888/`

위 주소에서 서비스 페이지 호출은 정상적으로 이루어졌지만  
**브라우저가 위치 권한을 거부**하여 지도 및 위치 기반 정보가 로딩되지 않는 것을 직접 확인했습니다.  
이는 HTML5 Geolocation 보안 정책이 HTTP 환경을 신뢰하지 않기 때문입니다.

### 해결 조치

-   Docker 기반 NAS 배포 시 인증서 구성 없이 위치 기반 기능 사용 불가 확인
-   브라우저 보안 정책 우회는 불가능
-   **HTTPS 인증서 구성이 완료되기 전까지 프로젝트 실행 환경을 로컬로 전환**

### 결과 및 교훈

-   위치 기반 서비스는 HTTPS 여부가 필수 조건
-   NAS 레벨 HTTPS 지원과 별개로 **컨테이너 서비스 내부 인증서 적용이 필요**
-   Docker 배포 자체는 문제 없었으나, **보안 인증 미적용이 핵심 리스크**
-   향후 배포 단계에서 SSL 적용 범위와 방식을 사전 확정해야 함
